<!doctype html>
<html lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="Ready.Work Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="Ready.Work Blog Atom Feed"><title data-react-helmet="true">æ•°æ®åº“-åŸºç¡€åº”ç”¨ | Ready.Work</title><meta data-react-helmet="true" property="og:url" content="https://lyuweihua.github.io/zh-CN/docs/database"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-CN"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="æ•°æ®åº“-åŸºç¡€åº”ç”¨ | Ready.Work"><meta data-react-helmet="true" name="description" content="é…ç½®"><meta data-react-helmet="true" property="og:description" content="é…ç½®"><link data-react-helmet="true" rel="shortcut icon" href="/zh-CN/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lyuweihua.github.io/zh-CN/docs/database"><link data-react-helmet="true" rel="alternate" href="https://lyuweihua.github.io/docs/database" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lyuweihua.github.io/zh-CN/docs/database" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://lyuweihua.github.io/docs/database" hreflang="x-default"><link rel="stylesheet" href="/zh-CN/assets/css/styles.3aee0be5.css">
<link rel="preload" href="/zh-CN/assets/js/styles.96f10285.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.419365fc.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.aa12cbc9.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/1.546c467a.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/2.b134721d.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/62.1a0d5637.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/64.5d0d37cb.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/935f2afb.305cabed.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/17896441.b6f4f76e.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/6a8a6f76.60bf0d64.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><img src="/zh-CN/img/ready.png" alt="Ready.Work Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/zh-CN/img/ready.png" alt="Ready.Work Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Ready.Work</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/docs/">å¼€å‘æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/zh-CN/blog">å¼€å‘åŠ¨æ€</a><a class="navbar__item navbar__link" href="/zh-CN/hardware">é…å¥—ç¡¬ä»¶</a><a class="navbar__item navbar__link" href="/zh-CN/why">å¼€å‘ç¼˜ç”±</a><a class="navbar__item navbar__link" href="/zh-CN/shoulder">å·¨äººçš„è‚©è†€</a><a class="navbar__item navbar__link" href="/zh-CN/coming">å¼€æºè®¡åˆ’</a><a class="navbar__item navbar__link" href="/zh-CN/medicine">åŒ»å­¦æ¢ç´¢</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>zh-CN</span></span></a><ul class="dropdown__menu"><li><a href="/docs/database" target="_self" rel="noopener noreferrer" class="dropdown__link">en</a></li><li><a href="/zh-CN/docs/database" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">zh-CN</a></li></ul></div><a href="https://github.com/LyuWeihua/ReadyWork" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/zh-CN/"><img src="/zh-CN/img/ready.png" alt="Ready.Work Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/zh-CN/img/ready.png" alt="Ready.Work Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Ready.Work</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/zh-CN/docs/">å¼€å‘æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-CN/blog">å¼€å‘åŠ¨æ€</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-CN/hardware">é…å¥—ç¡¬ä»¶</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-CN/why">å¼€å‘ç¼˜ç”±</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-CN/shoulder">å·¨äººçš„è‚©è†€</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-CN/coming">å¼€æºè®¡åˆ’</a></li><li class="menu__list-item"><a class="menu__link" href="/zh-CN/medicine">åŒ»å­¦æ¢ç´¢</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/database" target="_self" rel="noopener noreferrer" class="menu__link">en</a></li><li class="menu__list-item"><a href="/zh-CN/docs/database" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">zh-CN</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/LyuWeihua/ReadyWork" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">å•ä½“åº”ç”¨(Monolithic)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/">å¿«é€Ÿå¼€å§‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/install">å®‰è£…</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/configuration">é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/logger">æ—¥å¿—</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/aop">ä¾èµ–æ³¨å…¥/åˆ‡é¢ç¼–ç¨‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/controller">æ§åˆ¶å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/validator">å‚æ•°æ ¡éªŒå™¨</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/zh-CN/docs/database">æ•°æ®åº“-åŸºç¡€åº”ç”¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/database-auto">æ•°æ®åº“-Autoæ³¨è§£</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/database-advanced">æ•°æ®åº“-é«˜çº§åº”ç”¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/modulization">åº”ç”¨æ¨¡å—åŒ–</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/event">äº‹ä»¶é©±åŠ¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/security">å®‰å…¨ç­–ç•¥</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/cache">ç¼“å­˜æœåŠ¡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/websocket">Websocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/time-uuid">æ—¶é—´æœåŠ¡/UUIDæœåŠ¡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/i18n">å›½é™…åŒ–æ”¯æŒ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¾®æœåŠ¡åº”ç”¨(Microservices)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/cloud-get-started">å¿«é€Ÿå¼€å§‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/cloud-node-discovery">èŠ‚ç‚¹å‘ç°</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/cloud-microservice">å¾®æœåŠ¡åº”ç”¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/cloud-config-service">é…ç½®æœåŠ¡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/common-transaction">äº‹åŠ¡å‚è€ƒçŸ¥è¯†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/cloud-distributed-transaction">åˆ†å¸ƒå¼äº‹åŠ¡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/cloud-distributed-database">åˆ†å¸ƒå¼æ•°æ®åº“</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">å¹¶è¡Œè®¡ç®—(Parallel Computing)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/parallel-computing">å¹¶è¡Œè®¡ç®—</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/parallel-ai">å¹¶è¡ŒAIè®­ç»ƒ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh-CN/docs/federated-learning">è”é‚¦å­¦ä¹ </a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">æ•°æ®åº“-åŸºç¡€åº”ç”¨</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="é…ç½®"></a>é…ç½®<a class="hash-link" href="#é…ç½®" title="Direct link to heading">#</a></h2><ol><li>é€šè¿‡YAMLé…ç½®æ–‡ä»¶</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># configuration for dev environment</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">readyWork</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># This is the default binding address.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 0.0.0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Http port if enableHttp is true.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">httpPort</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">database</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">sqlDebug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># SQLè°ƒè¯•ï¼Œè¾“å‡ºSQLåˆ°æ—¥å¿—</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">dataSource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># æ‰€æœ‰çš„æ•°æ®æºéœ€è¦é…ç½®åœ¨dataSourceä¸‹é¢</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ä¸»æ•°æ®æºå›ºå®šåç§°ä¸º&quot;main&quot;ï¼Œå…¶ä»–æ•°æ®æºåç§°è‡ªå®šä¹‰</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> mysql </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ç±»å‹æ”¯æŒH2ã€Mysqlã€Postgreã€Oracleã€SqlServerã€Sqliteã€Igniteï¼Œå½“å‰ç‰ˆæœ¬å¼ºçƒˆæ¨èMysqlï¼Œå…¶ä»–ç±»å‹å°šæœªè¿›è¡Œä¸¥æ ¼æµ‹è¯•ã€‚</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#driverClass: com.mysql.cj.jdbc.Driver  #since mysql jdbc 8, The driver is automatically registered via the SPI</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">jdbcUrl</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//127.0.0.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">3306/test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">?</span><span class="token plain">useUnicode=true</span><span class="token important">&amp;useSSL=false&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">username</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> root</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12345678</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#autoMapping: true # è‡ªåŠ¨æ˜ å°„ï¼Œé»˜è®¤å¼€å¯</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#table: demo # å•æ•°æ®æºæˆ–è€…ç¨‹åºæ‰‹å·¥æ˜ å°„æ—¶ä¸éœ€è¦æ­¤è®¾å®šï¼Œåªæœ‰å¤šæ•°æ®æºæ—¶ï¼Œè‡ªåŠ¨æ˜ å°„æ¨¡å‹éœ€è¦æ˜ç¡®æ¨¡å‹è¡¨å’Œæ•°æ®æºçš„å…³ç³»ï¼Œè‡ªåŠ¨æ˜ å°„æ—¶ï¼Œå¤šæ•°æ®æºçš„è¡¨åä¸èƒ½é‡å¤ï¼Œåç»­ä¼šæ”¹è¿›è¯¥é—®é¢˜</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#ignoreTable: xxx # å¿½ç•¥æŸäº›è¡¨ï¼Œå¦‚æœæœ‰æŸäº›è¡¨æ˜¯ä¸éœ€è¦è¯¥é¡¹ç›®è®¿é—®</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#sqlTemplatePath: /sql/ # SQLæ¨¡ç‰ˆæ–‡ä»¶è·¯å¾„ï¼Œç›¸å¯¹äºé¡¹ç›®å·¥ä½œç©ºé—´è·¯å¾„ï¼Œå¦‚æœè®¾ç½®äº†æ­¤é¡¹ï¼Œä¸‹é¢çš„sqlTemplateå°±ç›¸å¯¹äºæ­¤è·¯å¾„</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">sqlTemplate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> sql/demo.sql </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># éœ€è¦åŠ è½½çš„SQLæ¨¡ç‰ˆæ–‡ä»¶ï¼Œå¦‚æœä¸Šé¢sqlTemplatePathæ²¡æœ‰æŒ‡æ˜è·¯å¾„ï¼Œè¿™é‡Œéœ€è¦å¸¦ä¸Šç›¸å¯¹äºé¡¹ç›®å·¥ä½œç©ºé—´çš„è·¯å¾„</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="2"><li>é€šè¿‡ç¨‹åºé…ç½®</li></ol><p>åŸºæœ¬ä¸ŠBoostrapä¸­çš„é…ç½®é¡¹éƒ½å¯ä»¥é€šè¿‡globalConfigè¿›è¡Œç¨‹åºåŒ–é…ç½®ï¼Œæ•°æ®åº“é…ç½®ä¹Ÿä¸ä¾‹å¤–ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class Main extends Application {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected void globalConfig(ApplicationConfig config) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡¹ï¼Œéƒ½å¯ä»¥é€šè¿‡ç¨‹åºåŒ–é…ç½®å®Œæˆï¼Œä¸Šé¢é€šè¿‡YAMlé…ç½®äº†mainæ•°æ®æºå¹¶åŠ è½½äº†demo.sqlæ¨¡ç‰ˆï¼Œè¿™é‡Œé€šè¿‡ç¨‹åºé…ç½®äº†testæ•°æ®æºå¹¶åŠ è½½test.sqlæ¨¡ç‰ˆ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        config.getDatabase().setDataSource(&quot;test&quot;, new DataSourceConfig()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                //.setType(DataSourceConfig.TYPE_MYSQL) // mysqlæ˜¯é»˜è®¤é¡¹ï¼Œè¿™é‡Œå¯ä»¥ä¸ç”¨æŒ‡å®š</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .setJdbcUrl(&quot;jdbc:mysql://127.0.0.1:3306/test?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .setUsername(&quot;root&quot;).setPassword(&quot;12345678&quot;).setSqlTemplate(&quot;sql/test.sql&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected void initialize() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // å¦‚æœé…ç½®ä¸­å…³é—­äº†autoMappingï¼Œé‚£ä¹ˆé€šè¿‡è¿™é‡Œè¿›è¡Œæ•°æ®æ¨¡å‹æ˜ å°„ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // dbManager().getDatasourceAgent(&quot;main&quot;).addMapping(&quot;demo&quot;, Demo.class);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Ready.For(Main.class).Work(args);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ¼”ç¤ºæ•°æ®"></a>æ¼”ç¤ºæ•°æ®<a class="hash-link" href="#æ¼”ç¤ºæ•°æ®" title="Direct link to heading">#</a></h2><p>è¯·å…ˆå»ºç«‹ä¸€ä¸ªtestçš„æ•°æ®åº“ï¼Œç„¶åå¯¼å…¥ä¸‹é¢çš„demoè¡¨ç»“æ„å’Œæ•°æ®ã€‚æˆ–è€…ç›´æ¥å¯¼å…¥demo.sqlï¼Œæ–‡ä»¶åœ¨examples\quickstartç¤ºä¾‹åŒ…ä¸­çš„resourcesæ–‡ä»¶å¤¹ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly mysql"><div tabindex="0" class="prism-code language-mysql codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SET NAMES utf8mb4;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SET FOREIGN_KEY_CHECKS = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-- ----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-- Table structure for demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-- ----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DROP TABLE IF EXISTS `demo`;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE TABLE `demo` (</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `id` int NOT NULL AUTO_INCREMENT,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `name` varchar(20) DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `gender` int DEFAULT &#x27;1&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `age` int DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `height` int DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `weight` int DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `hobbies` text,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `created` datetime DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `modified` datetime DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `status` int DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `isDeleted` bit(1) DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  `version` int DEFAULT NULL,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  PRIMARY KEY (`id`)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-- ----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-- Records of demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-- ----------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BEGIN;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (1, &#x27;Jimmy&#x27;, 1, 18, 170, 65, &#x27;Study&#x27;, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (2, &#x27;name2&#x27;, 0, 18, 170, 68, &#x27;PC Games&#x27;, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (3, &#x27;name3&#x27;, 1, 20, 168, 65, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (4, &#x27;name4&#x27;, 0, 20, 172, 70, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (5, &#x27;name5&#x27;, 1, 22, 170, 72, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (6, &#x27;name6&#x27;, 0, 23, 165, 60, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (7, &#x27;name7&#x27;, 1, 25, 175, 80, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (8, &#x27;name8&#x27;, 0, 25, 172, 75, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (9, &#x27;name9&#x27;, 1, 26, 160, 60, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (10, &#x27;name10&#x27;, 0, 28, 165, 68, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (11, &#x27;name11&#x27;, 1, 28, 168, 65, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (12, &#x27;name12&#x27;, 1, 28, 172, 72, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (13, &#x27;name13&#x27;, 0, 30, 175, 75, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (14, &#x27;name14&#x27;, 1, 30, 168, 80, &#x27;Sports&#x27;, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (15, &#x27;name15&#x27;, 1, 32, 165, 60, &#x27;Study&#x27;, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (16, &#x27;name16&#x27;, 0, 33, 178, 75, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (17, &#x27;name17&#x27;, 1, 33, 180, 80, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (18, &#x27;name18&#x27;, 1, 20, 175, 72, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (19, &#x27;name19&#x27;, 0, 36, 168, 60, NULL, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INSERT INTO `demo` VALUES (20, &#x27;name20&#x27;, 1, 36, 172, 65, &#x27;Chess&#x27;, &#x27;2021-08-08 08:08:08&#x27;, &#x27;2021-08-08 08:08:08&#x27;, 1, b&#x27;0&#x27;, 0);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">COMMIT;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SET FOREIGN_KEY_CHECKS = 1;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨<a class="hash-link" href="#åŸºæœ¬ä½¿ç”¨" title="Direct link to heading">#</a></h2><p>ä¸ä½¿ç”¨ä»»ä½•é«˜çº§ç‰¹æ€§ï¼Œç›´æ¥æ“ä½œæ•°æ®åº“è¡¨ã€‚å¯ä»¥ç›´æ¥è·å–DBå®ä¾‹è¿›è¡Œå„ç±»åŸºç¡€SQLæ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€ç»„å¯¹æ•°æ®åº“è¿›è¡ŒåŸºæœ¬å¢åˆ æ”¹æŸ¥çš„æ“ä½œå®ä¾‹ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class BasicDemoService {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // é»˜è®¤æ•°æ®æºæ˜¯å½“å‰æ•°æ®æºï¼Œé€šå¸¸æ˜¯ä¸»æ•°æ®æºmain</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private static Db db = Ready.dbManager().getDb();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // è¿”å›ç»“æœæ˜¯Recordç±»å‹ï¼ŒåŸºç¡€æ•°æ®åº“æŸ¥è¯¢çš„ç»“æœé›†éƒ½å°†ä»¥Recordç±»å‹å­˜åœ¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäºMapçš„å®¹å™¨ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Record getByName(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var sql = &quot;select * from demo where name = ? limit 1&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.findFirst(sql, name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // å¤šæ•°æ®æºå¯ä»¥éšæ—¶åˆ‡æ¢ï¼Œdb.use(&quot;test&quot;)åˆ‡æ¢åˆ°testæ•°æ®æº</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Record getByNameFromTest(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var sql = &quot;select * from demo where name = ? limit 1&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.use(&quot;test&quot;).findFirst(sql, name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // è¿”å›å¤šè¡Œæ•°æ®æ—¶ï¼Œä»¥List&lt;Record&gt;å½¢å¼è¿”å›</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public List&lt;Record&gt; getAllByAge(int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var sql = &quot;select * from demo where age &gt; ?&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.find(sql, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ç¿»é¡µæŸ¥è¯¢æ—¶ï¼Œä»¥Page&lt;Record&gt;å½¢å¼è¿”å›ï¼Œæ³¨æ„SQLè¯­å¥åˆ†æ‹†</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Record&gt; getPageByAge(int page, int size, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.paginate(page, size, &quot;select *&quot;, &quot;from demo where age &gt; ?&quot;, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ç¿»é¡µæŸ¥è¯¢æ”¯æŒGROUP BYï¼Œæ³¨æ„SQLè¯­å¥åˆ†æ‹†ï¼ŒMYSQLæœåŠ¡å™¨éœ€è¦å…³é—­ONLY_FULL_GROUP_BY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Record&gt; getPageByAgeWithGroupBy(int page, int size, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.paginate(page, size, true, &quot;select *&quot;, &quot;from demo where age &gt; ? group by age&quot;, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ç¿»é¡µæŸ¥è¯¢ï¼Œå®Œå…¨è‡ªå®šä¹‰SQLæŸ¥è¯¢ï¼Œä¸Šé¢çš„æŸ¥è¯¢ä¼šè‡ªåŠ¨è¿›è¡Œselect count(*) ...æŸ¥è¯¢ï¼Œè¿™é‡Œå¯ä»¥å®Œå…¨æŒ‰éœ€è‡ªå®šä¹‰</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Record&gt; getPageByFullSql(int page, int size, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String from = &quot;from demo where age &gt; ?&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String totalRowSql = &quot;select count(*) &quot; + from;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String findSql = &quot;select * &quot; + from + &quot; order by age&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.paginateByFullSql(page, size, totalRowSql, findSql, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æ·»åŠ ä¸€è¡Œæ•°æ®ï¼Œçº¯SQLæ“ä½œ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public int insertBySql(){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.update(&quot;insert into demo (name, gender, age, height, weight) values(?,?,?,?,?)&quot;, &quot;test&quot;, 1, 20, 170, 65);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æ·»åŠ ä¸€è¡Œæ•°æ®ï¼Œé€šè¿‡recordå¯¹è±¡æ“ä½œ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public boolean insertByRecord(){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.save(&quot;demo&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                db.record(Map.of(&quot;name&quot;,&quot;test&quot;, &quot;gender&quot;, 1, &quot;age&quot;, 20, &quot;height&quot;, 170, &quot;weight&quot;, 65)));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ä¿®æ”¹æ•°æ®ï¼Œçº¯SQLæ“ä½œ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public int updateAgeBySql(String name, int age){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.update(&quot;update demo set age = ? where name = ?&quot;, age, name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ä¿®æ”¹æ•°æ®ï¼Œå…ˆæŸ¥è¯¢å‡ºrecordè®°å½•åˆ—ï¼Œå†é€šè¿‡recordå¯¹è±¡è¿›è¡Œæ›´æ–°ï¼Œè¿™ç§æ“ä½œæ¨¡å¼è¡¨çš„ä¸»é”®åˆ—åå¿…é¡»ç»Ÿä¸€ä¸º&quot;id&quot;ï¼Œåç»­ä¼šæ”¹è¿›</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public int updateAgeByRecord(String name, int age){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var list = db.find(&quot;select * from demo where name = ?&quot;, name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int count = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(Record record : list) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(db.update(&quot;demo&quot;, record.set(&quot;age&quot;, age))){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                count ++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return count;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ä¿®æ”¹ä¸€è¡Œæ•°æ®ï¼Œé€šè¿‡ä¸»é”®ç»“åˆrecordå¯¹è±¡æ“ä½œï¼Œï¼Œè¿™ç§æ“ä½œæ¨¡å¼è¡¨çš„ä¸»é”®åˆ—åå¿…é¡»ç»Ÿä¸€ä¸º&quot;id&quot;ï¼Œåç»­ä¼šæ”¹è¿›</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public boolean updateAgeByRecordId(int id, int age){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.update(&quot;demo&quot;, db.record().set(&quot;id&quot;, id).set(&quot;age&quot;, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // åˆ é™¤æ•°æ®ï¼Œçº¯SQLæ“ä½œ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public int deleteBySql(){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.delete(&quot;delete from demo where name = ?&quot;, &quot;test&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // åˆ é™¤æ•°æ®ï¼Œå…ˆæŸ¥è¯¢å‡ºrecordè®°å½•åˆ—ï¼Œå†é€šè¿‡recordå¯¹è±¡è¿›è¡Œåˆ é™¤ï¼Œè¿™ç§æ“ä½œæ¨¡å¼è¡¨çš„ä¸»é”®åˆ—åå¿…é¡»ç»Ÿä¸€ä¸º&quot;id&quot;ï¼Œåç»­ä¼šæ”¹è¿›</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public int deleteByRecord() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var list = db.find(&quot;select * from demo where name = ?&quot;, &quot;test&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int count = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(Record record : list) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if(db.delete(&quot;demo&quot;, record)){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                count ++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return count;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // åˆ é™¤ä¸€è¡Œæ•°æ®ï¼Œé€šè¿‡ä¸»é”®ç»“åˆrecordå¯¹è±¡æ“ä½œï¼Œè¿™ç§æ“ä½œæ¨¡å¼è¡¨çš„ä¸»é”®åˆ—åå¿…é¡»ç»Ÿä¸€ä¸º&quot;id&quot;ï¼Œåç»­ä¼šæ”¹è¿›</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public boolean deleteByRecordId(int id){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.delete(&quot;demo&quot;, db.record().set(&quot;id&quot;, id));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ä¾‹å­ä¸­é»˜è®¤ä½¿ç”¨å½“å‰æ•°æ®æºï¼Œé€šå¸¸æ˜¯ä¸»æ•°æ®æºmainï¼Œå¦‚æœæœ‰å¤šä¸ªæ•°æ®æºæˆ–è€…éœ€è¦åˆ‡æ¢æ•°æ®æºï¼Œå¯ä»¥é€šè¿‡db.use(&quot;æ•°æ®æºåç§°&quot;)åŠ¨æ€åˆ‡æ¢ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@RequestMapping(value = &quot;/basic/&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class BasicController extends Controller {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Autowired</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private BasicDemoService demoService;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;String&gt; index() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(&quot;hello world !&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Record&gt; getByName() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByName(name));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Record&gt; getByNameFromTest() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByNameFromTest(name));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;List&lt;Record&gt;&gt; getAllByAge() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getAllByAge(age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Record&gt;&gt; getPageByAge() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getPageByAge(page, size, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Record&gt;&gt; getPageByAgeWithGroupBy() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getPageByAgeWithGroupBy(page, size, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Record&gt;&gt; getPageByFullSql() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getPageByFullSql(page, size, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.POST)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Integer&gt; insertBySql() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.insertBySql());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.POST)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; insertByRecord() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.insertByRecord());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.PUT)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Integer&gt; updateAgeBySql() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.updateAgeBySql(name, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.PUT)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Integer&gt; updateAgeByRecord() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.updateAgeByRecord(name, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.PUT)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; updateAgeByRecordId() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int id = Assert.notNull(getParamToInt(&quot;id&quot;), &quot;id is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.updateAgeByRecordId(id, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.DELETE)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Integer&gt; deleteBySql() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.deleteBySql());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.DELETE)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Integer&gt; deleteByRecord() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.deleteByRecord());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.DELETE)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; deleteByRecordId() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int id = Assert.notNull(getParamToInt(&quot;id&quot;), &quot;id is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.deleteByRecordId(id));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>åˆ›å»ºä¸€ä¸ªControlleræ¥ä½¿ç”¨ä¸Šé¢çš„BasicDemoServiceï¼Œé€šè¿‡è®¿é—®<code>http://127.0.0.1:8080/basic/...</code>å³å¯æŸ¥çœ‹ç»“æœã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ä»£ç ç”Ÿæˆå™¨"></a>ä»£ç ç”Ÿæˆå™¨<a class="hash-link" href="#ä»£ç ç”Ÿæˆå™¨" title="Direct link to heading">#</a></h2><p>æ•°æ®åº“è¡¨ç»“æ„åˆ›å»ºå¥½åï¼Œå¯ä»¥é€šè¿‡ä»£ç ç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆè¡¨æ¨¡å‹ï¼Œæ–¹ä¾¿è¿›è¡Œå¿«é€Ÿä¸šåŠ¡å¼€å‘ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CodeGenerator {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // è¿™é‡Œä¸€å…±å®ç°äº†3å„ç‰ˆæœ¬çš„ä»£ç ç”Ÿæˆæ–¹æ³•ï¼Œç”±ç®€å•åˆ°å®šåˆ¶åŒ–çš„è¿›è¡Œäº†æ¼”ç¤º</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        customizedWithPath(); // æ ¹æ®éœ€è¦é€‰æ‹©ç”Ÿæˆæ–¹æ¡ˆ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æœ€ç®€å•çš„ç”Ÿæˆå™¨ï¼Œå®šä¹‰å¥½æ¨¡å‹å’ŒæœåŠ¡ç±»çš„åŒ…åï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç åˆ°å½“å‰é¡¹ç›®ä¸­</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void easy() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String modelPackage = &quot;work.ready.test.model&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String servicePackage = &quot;work.ready.test.service&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // ä¸‹é¢é»˜è®¤ä½¿ç”¨bootstrap.ymlä¸­çš„mainæ•°æ®åº“é…ç½®ï¼Œé’ˆå¯¹mainæ•°æ®æºä¸‹çš„æ‰€ä»¥è¡¨</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var generator = new Generator(DatabaseManager.MAIN_CONFIG_NAME, modelPackage, servicePackage);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        generator.generate();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // å®šåˆ¶ç”Ÿæˆå™¨ï¼Œå®šä¹‰å¥½æ¨¡å‹å’ŒæœåŠ¡ç±»çš„åŒ…åï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç åˆ°å½“å‰é¡¹ç›®ä¸­</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void customized() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String modelPackage = &quot;work.ready.test.model&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String baseModelPackage = modelPackage + &quot;.base&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String servicePackage = &quot;work.ready.test.service&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // ä¸‹é¢é»˜è®¤ä½¿ç”¨bootstrap.ymlä¸­çš„mainæ•°æ®åº“é…ç½®ï¼Œé’ˆå¯¹mainæ•°æ®æºä¸‹çš„æ‰€ä»¥è¡¨</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var generator = new Generator(Generator.getMainDatasource(), Generator.getMainMetaBuilder(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new BaseModelGenerator(baseModelPackage),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new ModelGenerator(modelPackage, baseModelPackage),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new ServiceInterfaceGenerator(servicePackage, modelPackage), //å¦‚æœä¸éœ€è¦ç”Ÿæˆserviceï¼Œå¯ä»¥ä¸ºnull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new ServiceImplGenerator(servicePackage, modelPackage)  //å¦‚æœä¸éœ€è¦ç”Ÿæˆserviceï¼Œå¯ä»¥ä¸ºnull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        generator.generate();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // å®šåˆ¶ç”Ÿæˆå™¨ï¼Œå®šä¹‰å¥½æ¨¡å‹å’ŒæœåŠ¡ç±»çš„åŒ…åï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç åˆ°æŒ‡å®šè·¯å¾„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void customizedWithPath() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String modelPackage = &quot;work.ready.test.model&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String baseModelPackage = modelPackage + &quot;.base&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String servicePackage = &quot;work.ready.test.service&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // å®šä¹‰å„ç±»å‹ä»£ç çš„ä¿å­˜è·¯å¾„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String path = PathUtil.getProjectRootPath() + &quot;/src/test/java/&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String baseModelPath = path + baseModelPackage.replace(&quot;.&quot;, &quot;/&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String modelPath = path + modelPackage.replace(&quot;.&quot;, &quot;/&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String servicePath = path + servicePackage.replace(&quot;.&quot;, &quot;/&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String serviceImplPath = path + (servicePackage + &quot;.impl&quot;).replace(&quot;.&quot;, &quot;/&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // ä¸‹é¢é»˜è®¤ä½¿ç”¨bootstrap.ymlä¸­çš„mainæ•°æ®åº“é…ç½®ï¼Œé’ˆå¯¹mainæ•°æ®æºä¸‹çš„æ‰€ä»¥è¡¨</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String ds = &quot;main&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var generator = new Generator(Generator.getDatasource(ds), Generator.getMetaBuilder(ds),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new BaseModelGenerator(baseModelPackage, baseModelPath),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new ModelGenerator(modelPackage, baseModelPackage, modelPath),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new ServiceInterfaceGenerator(servicePackage, modelPackage, servicePath),  //å¦‚æœä¸éœ€è¦ç”Ÿæˆserviceï¼Œå¯ä»¥ä¸ºnull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                new ServiceImplGenerator(servicePackage, modelPackage, serviceImplPath)  //å¦‚æœä¸éœ€è¦ç”Ÿæˆserviceï¼Œå¯ä»¥ä¸ºnull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        generator.setGenerateDataDictionary(true);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        generator.setGenerateRemarks(true);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        generator.generate();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="æ¨¡å‹åº”ç”¨"></a>æ¨¡å‹åº”ç”¨<a class="hash-link" href="#æ¨¡å‹åº”ç”¨" title="Direct link to heading">#</a></h2><p>ä½¿ç”¨æ¨¡å‹æ“ä½œæ¯”ç›´æ¥æ•°æ®åº“è®¿é—®æ›´åŠ ä¾¿æ·ï¼Œèƒ½é€šè¿‡æ“ä½œå¯¹è±¡å±æ€§æ–¹å¼å¯¹æ•°æ®å­—æ®µè¿›è¡Œæ“ä½œï¼Œä¸”æ‹¥æœ‰æ›´å¤šæ‰©å±•åŠŸèƒ½ã€‚åº”ç”¨æ¨¡å‹éœ€è¦å…ˆå»ºç«‹è¡¨çš„æ¨¡å‹å¹¶è¿›è¡Œè¡¨å…³ç³»æ˜ å°„ï¼Œå»ºç«‹è¡¨æ¨¡å‹é€šå¸¸ç”±ä»£ç ç”Ÿæˆå™¨å®Œæˆï¼Œç”Ÿæˆå™¨ä¼šä¸ºæ¯å¼ è¡¨ç”Ÿæˆ2ä¸ªJavaç±»æ–‡ä»¶ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_eoMF">BaseDemo.java</div><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Generated by Ready.Work</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@SuppressWarnings(&quot;serial&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public abstract class BaseDemo&lt;M extends BaseDemo&lt;M&gt;&gt; extends Model&lt;M&gt; implements Bean {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setId(Integer id) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;id&quot;, id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Integer getId() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getInt(&quot;id&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setName(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;name&quot;, name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public String getName() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getStr(&quot;name&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setGender(Integer gender) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;gender&quot;, gender);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Integer getGender() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getInt(&quot;gender&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setAge(Integer age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;age&quot;, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Integer getAge() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getInt(&quot;age&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setHeight(Integer height) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;height&quot;, height);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Integer getHeight() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getInt(&quot;height&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setWeight(Integer weight) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;weight&quot;, weight);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Integer getWeight() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getInt(&quot;weight&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setHobbies(String hobbies) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;hobbies&quot;, hobbies);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public String getHobbies() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getStr(&quot;hobbies&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setCreated(java.util.Date created) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;created&quot;, created);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public java.util.Date getCreated() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return get(&quot;created&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setModified(java.util.Date modified) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;modified&quot;, modified);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public java.util.Date getModified() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return get(&quot;modified&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setStatus(Integer status) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;status&quot;, status);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Integer getStatus() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getInt(&quot;status&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setIsDeleted(Boolean isDeleted) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;isDeleted&quot;, isDeleted);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Boolean getIsDeleted() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return get(&quot;isDeleted&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public M setVersion(Integer version) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        set(&quot;version&quot;, version);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (M)this;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Integer getVersion() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return getInt(&quot;version&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ä¸Šé¢è¿™ä¸ªBaseDemoç±»æ–‡ä»¶æ˜¯å¯¹åº”è¡¨çš„æ¨¡å‹åŸºç¡€ç±»ï¼Œä¸è¦å¯¹å®ƒåšä»»ä½•ä¿®æ”¹æˆ–å¢å¼ºï¼Œå¦‚æœæ•°æ®åº“ç»“æ„æœ‰å˜æ›´ï¼Œé‡æ–°ç”Ÿæˆè¦†ç›–è¯¥æ–‡ä»¶å³å¯ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```java title=&quot;Demo.java&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Generated by Ready.Work</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@Table(tableName = &quot;demo&quot;, primaryKey = &quot;id&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class Demo extends BaseDemo&lt;Demo&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">è¿™ä¸ªDemoç±»æ–‡ä»¶æ˜¯æ–¹ä¾¿å¯¹æ¨¡å‹è¿›è¡Œæ‰©å±•çš„ç±»ï¼Œå¦‚æœæœ‰éœ€è¦å¯¹æ¨¡å‹è¿›è¡Œæ‰©å±•æˆ–å¢å¼ºï¼Œè¯·åŠ åœ¨è¿™ä¸ªç±»ä¸­ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æ¨èå¯¹Modelè¿›è¡ŒModelçº§åˆ«Serviceå±‚å°è£…ï¼Œæ–¹ä¾¿æ‰©å±•ä¹Ÿæ˜¯åº”å¯¹åç»­è¡¨ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶å¯ä»¥åœ¨Modelçš„Serviceå±‚è¿›è¡Œåè°ƒæˆ–å…¼å®¹ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æœ¬æ¡†æ¶ä¸­Modelçš„Serviceå¯ä»¥è‡ªå·±å®ç°ï¼Œæ¨èç›´æ¥ç»§æ‰¿æ¡†æ¶æä¾›çš„ModelServiceï¼Œåç»­æ¡†æ¶å¢å¼ºModelå±‚ç›¸å…³åŠŸèƒ½æ—¶èƒ½è‡ªåŠ¨å¢å¼ºã€‚è§ä¸‹é¢å®ä¾‹ï¼š</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```java title=&quot;ModelDemoService.java&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public interface ModelDemoService {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Demo getByName(String name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Demo getByNameFromTest(String name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    List&lt;Demo&gt; getAllByAge(int age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Page&lt;Demo&gt; getPageByAge(int page, int size, int age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Page&lt;Demo&gt; getPageByAgeWithGroupBy(int page, int size, int age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Page&lt;Demo&gt; getPageByFullSql(int page, int size, int age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Boolean addRecord(String name, int gender, int age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Boolean updateRecord(String name, int age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Boolean updateRecord(int id, int age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Boolean deleteRecord(String name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Boolean deleteRecord(int id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ä¸Šé¢ä¸ºModelçš„Serviceå±‚æ¥å£ç±»ï¼Œé€šå¸¸Modelçš„Serviceåªå¯¹å½“å‰Modelè¿›è¡Œæ“ä½œï¼Œå³åªå¯¹å½“å‰è¡¨è¿›è¡Œæ“ä½œã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```java title=&quot;ModelDemoServiceImpl.java&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@Service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class ModelDemoServiceImpl extends ModelService&lt;Demo&gt; implements ModelDemoService {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // è¿”å›ç»“æœæ˜¯ä¸€ä¸ªDemoå¯¹è±¡ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Demo getByName(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String sql = &quot;select * from demo where name = ? limit 1&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dao.findFirst(sql, name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // å¤šæ•°æ®æºå¯ä»¥éšæ—¶åˆ‡æ¢ï¼Œuse(&quot;test&quot;)åˆ‡æ¢åˆ°testæ•°æ®æº</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Demo getByNameFromTest(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String sql = &quot;select * from demo where name = ? limit 1&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return use(&quot;test&quot;).findFirst(sql, name);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // è¿”å›å¤šè¡Œæ•°æ®æ—¶ï¼Œæ•°æ®ä»¥Demoå¯¹è±¡å°è£…åä»¥List&lt;Demo&gt;å½¢å¼è¿”å›</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public List&lt;Demo&gt; getAllByAge(int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var sql = &quot;select * from demo where age &gt; ?&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dao.find(sql, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ç¿»é¡µæŸ¥è¯¢æ—¶ï¼Œä»¥Page&lt;Demo&gt;å½¢å¼è¿”å›ï¼Œæ³¨æ„SQLè¯­å¥åˆ†æ‹†</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Demo&gt; getPageByAge(int page, int size, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dao.paginate(page, size, &quot;select *&quot;, &quot;from demo where age &gt; ?&quot;, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ç¿»é¡µæŸ¥è¯¢æ”¯æŒGROUP BYï¼Œæ³¨æ„SQLè¯­å¥åˆ†æ‹†ï¼ŒMYSQLæœåŠ¡å™¨éœ€è¦å…³é—­ONLY_FULL_GROUP_BY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Demo&gt; getPageByAgeWithGroupBy(int page, int size, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dao.paginate(page, size, true, &quot;select *&quot;, &quot;from demo where age &gt; ? group by age&quot;, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ç¿»é¡µæŸ¥è¯¢ï¼Œå®Œå…¨è‡ªå®šä¹‰SQLæŸ¥è¯¢ï¼Œä¸Šé¢çš„æŸ¥è¯¢ä¼šè‡ªåŠ¨è¿›è¡Œselect count(*) ...æŸ¥è¯¢ï¼Œè¿™é‡Œå¯ä»¥å®Œå…¨æŒ‰éœ€è‡ªå®šä¹‰</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Demo&gt; getPageByFullSql(int page, int size, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String from = &quot;from demo where age &gt; ?&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String totalRowSql = &quot;select count(*) &quot; + from;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String findSql = &quot;select * &quot; + from + &quot; order by age&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dao.paginateByFullSql(page, size, totalRowSql, findSql, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æ’å…¥ä¸€æ¡è®°å½•ï¼Œåˆ›å»ºä¸€ä¸ªDemoå¯¹è±¡ï¼Œè®¾å®šéœ€è¦çš„å±æ€§å³å­—æ®µå€¼ï¼Œç„¶åç›´æ¥saveä¿å­˜ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Boolean addRecord(String name, int gender, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return new Demo().setName(name).setGender(gender).setAge(age).save();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æŒ‰æ¡ä»¶ä¿®æ”¹ä¸€æ¡è®°å½•ï¼ŒæŒ‰æ¡ä»¶æŸ¥è¯¢å‡ºè¦ä¿®æ”¹çš„Demoå¯¹è±¡ï¼Œè®¾å®šéœ€è¦ä¿®æ”¹çš„å±æ€§å³å­—æ®µå€¼ï¼Œç„¶åç›´æ¥updateæ›´æ–°ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Boolean updateRecord(String name, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dao.findFirst(&quot;select * from demo where name = ?&quot;, name).setAge(age).update();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æŒ‰IDä¿®æ”¹ä¸€æ¡è®°å½•ï¼ŒæŒ‰IDæŸ¥è¯¢å‡ºè¦ä¿®æ”¹çš„Demoå¯¹è±¡ï¼Œè®¾å®šéœ€è¦ä¿®æ”¹çš„å±æ€§å³å­—æ®µå€¼ï¼Œç„¶åç›´æ¥updateæ›´æ–°ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Boolean updateRecord(int id, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return findById(id).setAge(age).update();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æŒ‰æ¡ä»¶åˆ é™¤ä¸€æ¡è®°å½•ï¼ŒæŒ‰æ¡ä»¶æŸ¥è¯¢å‡ºè¦åˆ é™¤çš„Demoå¯¹è±¡ï¼Œç„¶åç›´æ¥deleteåˆ é™¤ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Boolean deleteRecord(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return dao.findFirst(&quot;select * from demo where name = ?&quot;, name).delete();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // æŒ‰IDåˆ é™¤ä¸€æ¡è®°å½•ï¼ŒæŒ‰IDæŸ¥è¯¢å‡ºè¦åˆ é™¤çš„Demoå¯¹è±¡ï¼Œç„¶åç›´æ¥deleteåˆ é™¤ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Boolean deleteRecord(int id) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return findById(id).delete();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ä¸Šé¢æ˜¯ModelDemoServiceçš„å®ç°ç±»ï¼Œæ¼”ç¤ºäº†Modelæ–¹å¼è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„ä½¿ç”¨ã€‚å’ŒRecordæ–¹å¼æœ‰å‡ åˆ†ç›¸ä¼¼ï¼Œä½†è¿™é‡Œæ“ä½œçš„å¯¹è±¡æ˜¯Demoæ¨¡å‹ï¼Œèƒ½ä»¥è®¿é—®å±æ€§æ–¹å¼è®¿é—®å­—æ®µã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@RequestMapping(value = &quot;/model/&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class ModelController extends Controller {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Autowired</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private ModelDemoService demoService;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;String&gt; index() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(&quot;hello world !&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Demo&gt; getByName() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByName(name));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Demo&gt; getByNameFromTest() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByNameFromTest(name));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;List&lt;Demo&gt;&gt; getAllByAge() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getAllByAge(age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Demo&gt;&gt; getPageByAge() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getPageByAge(page, size, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Demo&gt;&gt; getPageByAgeWithGroupBy() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getPageByAgeWithGroupBy(page, size, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Demo&gt;&gt; getPageByFullSql() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getPageByFullSql(page, size, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.POST)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; addRecord() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notNull(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int gender = Assert.notNull(getParamToInt(&quot;gender&quot;), &quot;gender is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.addRecord(name, gender, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.PUT)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; updateRecord() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.updateRecord(name, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.PUT)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; updateRecordById() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int id = Assert.notNull(getParamToInt(&quot;id&quot;), &quot;id is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.updateRecord(id, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.DELETE)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; deleteRecord() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.deleteRecord(name));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping(method = RequestMethod.DELETE)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Boolean&gt; deleteRecordById() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int id = Assert.notNull(getParamToInt(&quot;id&quot;), &quot;id is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.deleteRecord(id));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">åˆ›å»ºä¸€ä¸ªControlleræ¥ä½¿ç”¨ä¸Šé¢çš„ModelDemoServiceï¼Œé€šè¿‡è®¿é—®`http://127.0.0.1:8080/model/...`å³å¯æŸ¥çœ‹ç»“æœã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">## SQLæ¨¡ç‰ˆ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æœ¬æ¡†æ¶æ”¯æŒä½¿ç”¨SQLæ¨¡ç‰ˆå¯¹SQLè¿›è¡Œé›†ä¸­ç»Ÿä¸€ç®¡ç†ã€‚åœ¨ä½¿ç”¨SQLæ¨¡ç‰ˆå‰ï¼Œéœ€è¦å…ˆé€šè¿‡sqlTemplatePathå’ŒsqlTemplateé…ç½®å¥½SQLæ¨¡ç‰ˆå­˜æ”¾è·¯å¾„å’Œéœ€è¦åŠ è½½çš„SQLæ¨¡ç‰ˆæ–‡ä»¶ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ä¹Ÿå¯ä»¥é€šè¿‡ç¨‹åºæŒ‰éœ€åŠ è½½ï¼š</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class Main extends Application {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Override</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    protected void initialize() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // ä¸ºtestæ•°æ®æºåŠ è½½sqlæ¨¡ç‰ˆ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Ready.dbManager().getDatasourceAgent(&quot;test&quot;).addSqlTemplate(&quot;sql/test.sql&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // è®¾ç½®testæ•°æ®æºä¸ºå¼€å‘è°ƒè¯•æ¨¡å¼ï¼Œæ­¤æ—¶SQLæ¨¡ç‰ˆæ–‡ä»¶è‡ªå®šè¿›è¡Œçƒ­åŠ è½½ï¼Œå³ä¿®æ”¹SQLåä¸ç”¨é‡å¯åº”ç”¨å³å¯ç«‹å³ç”Ÿæ•ˆã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Ready.dbManager().getDatasourceAgent(&quot;test&quot;).setDevMode(true);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Ready.For(Main.class).Work(args);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ä¸‹é¢æ˜¯demo.sqlæ¨¡ç‰ˆçš„å†…å®¹ï¼š</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```sql</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#namespace(&quot;demo&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #sql(&quot;getByName&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      select * from demo where name = ? limit 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #sql(&quot;getByName_1&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      select * from demo where name = #param(0) and age &gt; #param(1) limit 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #sql(&quot;getByName_2&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      select * from demo where name = #param(name) and age &gt; #param(age) limit 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #sql(&quot;getByNameLike&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      select * from demo where name like concat(&#x27;%&#x27;, #param(0), &#x27;%&#x27;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #sql(&quot;getAllByPage&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      select * from demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #sql(&quot;getAllByDynamicParameter&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      select * from demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #for(x : condition)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            #(for.first ? &quot;where&quot;: &quot;and&quot;) #(x.key) #param(x.value)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    #end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">å…¶ä¸­ç”¨åˆ°äº†æ¨¡ç‰ˆæŒ‡ä»¤ï¼Œ#sql(&quot;sqlæ ‡è¯†&quot;)...#endä¸ºsqlè¯­å¥å®šä¹‰æŒ‡ä»¤ï¼›#param(æ•°å­—)å’Œ#param(å‚æ•°å)ä¸ºå‚æ•°æŒ‡ä»¤ï¼Œåˆ†åˆ«ç”¨äºæŒ‰å‚æ•°å·å’Œå‚æ•°åè·å–å‚æ•°çš„å ä½æ ‡è¯†ï¼›#namespace(&quot;åç§°&quot;)...#endæŒ‡ä»¤ä¸º sql è¯­å¥æŒ‡å®šå‘½åç©ºé—´ï¼Œä¸åŒçš„å‘½åç©ºé—´å¯ä»¥è®©#sqlæŒ‡ä»¤ä½¿ç”¨ç›¸åŒçš„keyå€¼å»å®šä¹‰sqlï¼Œæœ‰åˆ©äºæ¨¡å—åŒ–ç®¡ç†ï¼›#for(x:y)...#endæ˜¯å¾ªç¯æŒ‡ä»¤ï¼Œç”¨äºéå†å˜é‡yï¼›æ›´å¤šæ¨¡ç‰ˆæŒ‡ä»¤è§Jfianlæ¨¡ç‰ˆå¼•æ“æ–‡æ¡£`https://jfinal.com/doc/6-4`ã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ä¸‹é¢æˆ‘ä»¬å®ç°ä¸€ä¸ªæœåŠ¡ç±»æ¥ä½¿ç”¨ä¸Šé¢çš„æ¨¡ç‰ˆï¼š</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@Service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class TemplateDemoService {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private static Db db = Ready.dbManager().getDb();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Record getByName(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // è·å–ä¸Šé¢SQLæ¨¡ç‰ˆä¸­åä¸ºgetByNameçš„sqlè¯­å¥</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var sql = db.getSql(&quot;demo.getByName&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.findFirst(sql, name); // ä¼ å…¥nameï¼Œå¯¹åº”äºsqlè¯­å¥ä¸­çš„ ? å ä½ç¬¦</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Record getByName_1(String name, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // è·å–ä¸Šé¢SQLæ¨¡ç‰ˆä¸­åä¸ºgetByName_1çš„sqlè¯­å¥ï¼Œè¯­å¥ä¸­çš„#param(0)å’Œ#param(1)ï¼Œåˆ†åˆ«å¯¹åº”ç¬¬0ä¸ªå‚æ•°nameå’Œç¬¬1ä¸ªå‚æ•°age</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var sql = db.getSqlParam(&quot;demo.getByName_1&quot;, name, age);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.findFirst(sql);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // å¯ä»¥ä½¿ç”¨ä¸‹é¢templateæ–¹æ³•ï¼Œæ›´ç®€æ´ï¼Œä¸‹é¢çš„æ–¹æ³•ç­‰åŒä¸Šé¢2è¡Œä»£ç </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //return db.template(&quot;demo.getByName_1&quot;, name, age).findFirst();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Record getByName_2(String name, int age) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // è·å–ä¸Šé¢SQLæ¨¡ç‰ˆä¸­åä¸ºgetByName_2çš„sqlè¯­å¥ï¼Œè¯­å¥ä¸­çš„#param(name)å’Œ#param(age)ï¼Œåˆ†åˆ«å¯¹åº”å‚æ•°nameå’Œå‚æ•°age</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var sql = db.getSqlParam(&quot;demo.getByName_2&quot;, Kv.by(&quot;name&quot;, name).set(&quot;age&quot;, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.findFirst(sql);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // å¯ä»¥ä½¿ç”¨ä¸‹é¢templateæ–¹æ³•ï¼Œæ›´ç®€æ´ï¼Œä¸‹é¢çš„æ–¹æ³•ç­‰åŒä¸Šé¢2è¡Œä»£ç </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //return db.template(&quot;demo.getByName_2&quot;, Kv.by(&quot;name&quot;, name).set(&quot;age&quot;, age)).findFirst();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public List&lt;Record&gt; getByNameLike(String name) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // è·å–ä¸Šé¢SQLæ¨¡ç‰ˆä¸­åä¸ºgetByNameLikeçš„sqlè¯­å¥ï¼Œæ¼”ç¤ºæ¨¡ç³ŠæŸ¥è¯¢</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.template(&quot;demo.getByNameLike&quot;, name).find();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Record&gt; getAllByPage(int page, int size) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // è·å–ä¸Šé¢SQLæ¨¡ç‰ˆä¸­åä¸ºgetAllByPageçš„sqlè¯­å¥ï¼Œæ¼”ç¤ºç¿»é¡µæŸ¥è¯¢</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SqlParam sqlParam = db.getSqlParam(&quot;demo.getAllByPage&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.paginate(1, 5, sqlParam);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // å¯ä»¥ä½¿ç”¨ä¸‹é¢templateæ–¹æ³•ï¼Œæ›´ç®€æ´ï¼Œä¸‹é¢çš„æ–¹æ³•ç­‰åŒä¸Šé¢2è¡Œä»£ç </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //return db.template(&quot;demo.getAll&quot;).paginate(page, size);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Record&gt; getAllByParam(int page, int size, Object... param) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Assert.equals(0, param.length % 2, &quot;param should be in pairs&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i &lt; param.length; i+=2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            map.put(param[i].toString(), param[i+1]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // è·å–ä¸Šé¢SQLæ¨¡ç‰ˆä¸­åä¸ºgetAllByDynamicParameterçš„sqlè¯­å¥ï¼Œæ¼”ç¤ºåŠ¨æ€whereå¤šæ¡ä»¶è¯­å¥ç»„è£…</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.template(&quot;demo.getAllByDynamicParameter&quot;, Kv.by(&quot;condition&quot;, map)).paginate(page, size);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Page&lt;Record&gt; getAllByParamFromTest(int page, int size, Object... param) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Assert.equals(0, param.length % 2, &quot;param should be in pairs&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for(int i = 0; i &lt; param.length; i+=2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            map.put(param[i].toString(), param[i+1]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // test.sqlä¸­çš„å†…å®¹æ˜¯ä»demo.sqlä¸­å¤åˆ¶äº†æœ€åä¸€ä¸ªgetAllByDynamicParameterè¯­å¥ï¼Œç„¶åç”±ç¨‹åºé…ç½®åŠ è½½ï¼Œç”¨äºæ¼”ç¤º</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // ä¸‹é¢è·å–test.sqlæ¨¡ç‰ˆä¸­åä¸ºgetAllByDynamicParameterçš„sqlè¯­å¥ï¼Œæ¼”ç¤ºåŠ¨æ€whereå¤šæ¡ä»¶è¯­å¥ç»„è£…</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return db.use(&quot;test&quot;).template(&quot;test.getAllByDynamicParameter&quot;, Kv.by(&quot;condition&quot;, map)).paginate(page, size);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ä¸‹é¢åˆ›å»ºä¸€ä¸ªControlleræ¥ä½¿ç”¨ä¸Šé¢çš„TemplateDemoService</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@RequestMapping(value = &quot;/template&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class TemplateController extends Controller {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Autowired</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private TemplateDemoService demoService;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;String&gt; index() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(&quot;hello world !&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Record&gt; getByName() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByName(name));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Record&gt; getByName_1() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByName_1(name, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Record&gt; getByName_2() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int age = Assert.notNull(getParamToInt(&quot;age&quot;), &quot;age is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByName_2(name, age));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;List&lt;Record&gt;&gt; getByNameLike() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = Assert.notEmpty(getParam(&quot;name&quot;), &quot;name is required&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getByNameLike(name));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Record&gt;&gt; getAllByPage() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getAllByPage(page,size));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Record&gt;&gt; getAllByParam() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getAllByParam(page, size, &quot;age &gt;&quot;, 15, &quot;height &gt;&quot;, 0));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @RequestMapping</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Result&lt;Page&lt;Record&gt;&gt; getAllByParamFromTest() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int page = getParamToInt(&quot;page&quot;, 1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int size = getParamToInt(&quot;size&quot;,5);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return Success.of(demoService.getAllByParamFromTest(page, size, &quot;age &gt;&quot;, 15, &quot;height &gt;&quot;, 0));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">é€šè¿‡è®¿é—®`http://127.0.0.1:8080/template/...`å³å¯æŸ¥çœ‹ç»“æœã€‚</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">## H2æ•°æ®åº“</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">æ¡†æ¶é›†æˆæ”¯æŒH2æ•°æ®åº“ï¼Œä¸€æ–¹é¢æ˜¯ä¸ºäº†æ–¹ä¾¿å°å¾®åº”ç”¨å¯ä»¥ä¸€åŒ…èµ°å¤©ä¸‹ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ¡†æ¶åç»­éœ€è¦ç”¨åˆ°H2æ•°æ®åº“ã€‚é»˜è®¤æ²¡æœ‰å¼€å¯ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å¼€å¯ä½¿ç”¨ï¼š</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```yaml</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># configuration for dev environment</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">---</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">readyWork:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  server:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    # This is the default binding address.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ip: 0.0.0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    # Http port if enableHttp is true.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    httpPort: 8080</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  database:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    sqlDebug: false # SQLè°ƒè¯•ï¼Œè¾“å‡ºSQLåˆ°æ—¥å¿—</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    h2server: # H2æ•°æ®åº“è®¾å®š</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      enabled: true # å¼€å¯H2æ•°æ®åº“æ”¯æŒï¼Œå³å¯åŠ¨H2æ•°æ®åº“</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      #tcpPort: 9092 # H2æ•°æ®åº“çš„ç«¯å£</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      #tcpAllowOthers: true # æ˜¯å¦å…è®¸å…¶ä»–ç”µè„‘è¿æ¥åˆ°H2æ•°æ®åº“</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      #webPort: 8088 # H2çš„WEBç®¡ç†ç«¯å£</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      #webAllowOthers: true # æ˜¯å¦å…è®¸å…¶ä»–ç”µè„‘è®¿é—®H2çš„WEBç®¡ç†é¡µé¢</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    dataSource: # æ‰€æœ‰çš„æ•°æ®æºéœ€è¦é…ç½®åœ¨dataSourceä¸‹é¢</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      main: # ä¸»æ•°æ®æºå›ºå®šåç§°ä¸º&quot;main&quot;ï¼Œå…¶ä»–æ•°æ®æºåç§°è‡ªå®šä¹‰</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type: mysql # ç±»å‹æ”¯æŒH2ã€Mysqlã€Postgreã€Oracleã€SqlServerã€Sqliteã€Ignite</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #driverClass: com.mysql.cj.jdbc.Driver  #since mysql jdbc 8, The driver is automatically registered via the SPI</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jdbcUrl: jdbc:mysql://127.0.0.1:3306/test?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        username: root</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        password: 12345678</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #autoMapping: true # è‡ªåŠ¨æ˜ å°„ï¼Œé»˜è®¤å¼€å¯</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #table: demo # å•æ•°æ®æºæˆ–è€…ç¨‹åºæ‰‹å·¥æ˜ å°„æ—¶ä¸éœ€è¦æ­¤è®¾å®šï¼Œåªæœ‰å¤šæ•°æ®æºæ—¶ï¼Œè‡ªåŠ¨æ˜ å°„æ¨¡å‹éœ€è¦æ˜ç¡®æ¨¡å‹è¡¨å’Œæ•°æ®æºçš„å…³ç³»ï¼Œè‡ªåŠ¨æ˜ å°„æ—¶ï¼Œå¤šæ•°æ®æºçš„è¡¨åä¸èƒ½é‡å¤ï¼Œåç»­ä¼šæ”¹è¿›è¯¥é—®é¢˜</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #ignoreTable: xxx # å¿½ç•¥æŸäº›è¡¨ï¼Œå¦‚æœæœ‰æŸäº›è¡¨æ˜¯ä¸éœ€è¦è¯¥é¡¹ç›®è®¿é—®</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        #sqlTemplatePath: /sql/ # SQLæ¨¡ç‰ˆæ–‡ä»¶è·¯å¾„ï¼Œç›¸å¯¹äºé¡¹ç›®å·¥ä½œç©ºé—´è·¯å¾„ï¼Œå¦‚æœè®¾ç½®äº†æ­¤é¡¹ï¼Œä¸‹é¢çš„sqlTemplateå°±ç›¸å¯¹äºæ­¤è·¯å¾„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        sqlTemplate: sql/demo.sql # éœ€è¦åŠ è½½çš„SQLæ¨¡ç‰ˆæ–‡ä»¶ï¼Œå¦‚æœä¸Šé¢sqlTemplatePathæ²¡æœ‰æŒ‡æ˜è·¯å¾„ï¼Œè¿™é‡Œéœ€è¦å¸¦ä¸Šç›¸å¯¹äºé¡¹ç›®å·¥ä½œç©ºé—´çš„è·¯å¾„</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      h2_1: # å¦‚æœh2serveræ²¡æœ‰å¼€å¯TCPç«¯å£ï¼Œæœ¬æœºç›´æ¥æ–‡ä»¶æ–¹å¼è®¿é—®H2æ•°æ®åº“</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type: h2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        driverClass: org.h2.Driver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jdbcUrl: jdbc:h2:/h2data/h2test # è¿™é‡Œçš„/h2dataç›¸å¯¹äºé¡¹ç›®å·¥ä½œç©ºé—´ç›®å½•ï¼Œä»¥h2test.mv.dbçš„æ–‡ä»¶åå­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        username: root</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        password: 123456</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      h2_2: # å¦‚æœh2serverå¼€å¯äº†TCPç«¯å£ï¼Œæœ¬æœºæˆ–å…¶ä»–æœºå™¨å¯ä»¥é€šè¿‡TCPè¿æ¥æ–¹å¼è®¿é—®H2æ•°æ®åº“</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type: h2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        driverClass: org.h2.Driver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        jdbcUrl: jdbc:h2:tcp://localhost:9092/h2data/h2prod # è¿™é‡Œçš„/h2dataç›¸å¯¹äºé¡¹ç›®å·¥ä½œç©ºé—´ç›®å½•ï¼Œä»¥h2prod.mv.dbçš„æ–‡ä»¶åå­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        username: root</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        password: 123456</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LyuWeihua/ReadyWork/edit/master/website/docs/database.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh-CN/docs/validator"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« å‚æ•°æ ¡éªŒå™¨</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh-CN/docs/database-auto"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">æ•°æ®åº“-Autoæ³¨è§£ Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#é…ç½®" class="table-of-contents__link">é…ç½®</a></li><li><a href="#æ¼”ç¤ºæ•°æ®" class="table-of-contents__link">æ¼”ç¤ºæ•°æ®</a></li><li><a href="#åŸºæœ¬ä½¿ç”¨" class="table-of-contents__link">åŸºæœ¬ä½¿ç”¨</a></li><li><a href="#ä»£ç ç”Ÿæˆå™¨" class="table-of-contents__link">ä»£ç ç”Ÿæˆå™¨</a></li><li><a href="#æ¨¡å‹åº”ç”¨" class="table-of-contents__link">æ¨¡å‹åº”ç”¨</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">å¼€å‘æ–‡æ¡£</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/">å¿«é€Ÿå¼€å§‹</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æºç ä»“åº“</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/LyuWeihua/ReadyWork" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/blog">å¼€å‘åŠ¨æ€</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Ready.Work</div></div></div></footer></div>
<script src="/zh-CN/assets/js/styles.96f10285.js"></script>
<script src="/zh-CN/assets/js/runtime~main.419365fc.js"></script>
<script src="/zh-CN/assets/js/main.aa12cbc9.js"></script>
<script src="/zh-CN/assets/js/1.546c467a.js"></script>
<script src="/zh-CN/assets/js/2.b134721d.js"></script>
<script src="/zh-CN/assets/js/62.1a0d5637.js"></script>
<script src="/zh-CN/assets/js/64.5d0d37cb.js"></script>
<script src="/zh-CN/assets/js/935f2afb.305cabed.js"></script>
<script src="/zh-CN/assets/js/17896441.b6f4f76e.js"></script>
<script src="/zh-CN/assets/js/6a8a6f76.60bf0d64.js"></script>
</body>
</html>